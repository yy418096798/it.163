function PopUpLayer(e,t){var n,a=function(){t.style.display="none"};this.hide=function(e){n=setTimeout(a,300)},e.addEvent("mouseover",function(){t.style.display="block"}),e.addEvent("mouseout",this.hide),t.addEvent("mouseout",this.hide),t.addEvent("mouseover",function(){clearTimeout(n)})}var calendarLayer=new PopUpLayer(NTES("#getCalendar"),NTES("#calendarBox")),PrintDay=function(){new Date;this.getW=function(e){switch(e){case 0:return"\u661f\u671f\u65e5";case 1:return"\u661f\u671f\u4e00";case 2:return"\u661f\u671f\u4e8c";case 3:return"\u661f\u671f\u4e09";case 4:return"\u661f\u671f\u56db";case 5:return"\u661f\u671f\u4e94";case 6:return"\u661f\u671f\u516d"}}};PrintDay();var getLoadData=function(e){var t=e.responseText;$("#loadXmlData").innerHTML=t||"\u6ca1\u6709\u4f1a\u8bae\uff01"},Calendar=function(){};Calendar.cDate=new Date,Calendar.year=Calendar.cDate.getFullYear(),Calendar.month=Calendar.cDate.getMonth(),Calendar.date=Calendar.cDate.getDate(),Calendar.init=function(e,t,n,a){var o,i;(o=Calendar.month+1==12?12:Calendar.month+1,$(e).innerHTML=Calendar.year,$(t).innerHTML=o,a)&&(i=o<10?"0"+o.toString():o,NTES.ajax.send("http://tech.163.com/datemonth/"+Calendar.year+"/"+i,"get",null,{onSuccess:getLoadData}));Calendar.draw(n)},Calendar.monthDayNum=function(e,t){return new Date(e,t+1,0).getDate()},Calendar.dayInWeek=function(e,t,n){return new Date(e,t,n).getDay()},Calendar.draw=function(e){var t=Calendar.year,n=Calendar.month;e(t,n,Calendar.date,Calendar.dayInWeek(t,n,1),Calendar.monthDayNum(t,n,0))},Calendar.NP=function(e,t,n,a,o){var i,r=$(e),s=$(t),c=parseInt(r.innerHTML),l=parseInt(s.innerHTML);("next"==n&&12<(l+=1)&&(c+=l=1),"previous"==n&&0==(l-=1)&&(l=12,c-=1),Calendar.month=l-1,Calendar.year=c,r.innerHTML=c,s.innerHTML=l,o)&&(i=l<10?"0"+l.toString():l,NTES.ajax.send("http://tech.163.com/datemonth/"+c+"/"+i,"get",null,{onSuccess:getLoadData}));Calendar.draw(a)},Calendar.print=function(e,t,n,a,o){e=e,n=n,a=a,o=o;var i,r,s=[];i=(t=t)<9?"0"+(t+=1):t+1;for(var c=0;c<a;c++)s.push("<li></li>");for(var l=1;l<=o;l++)r=l<10?"0"+l:l,l==n?s.push('<li><a class="current" href="http://snapshot.news.163.com/wgethtml/http+!!tech.163.com!/'+e+"-"+i+"/"+r+'/12.html">'+l+"</a></li>"):s.push('<li><a href="http://snapshot.news.163.com/wgethtml/http+!!tech.163.com!/'+e+"-"+i+"/"+r+'/12.html">'+l+"</a></li>");var d=s.join("");$("#calendarList").innerHTML=d},Calendar.init("#setYear","#setMonth",Calendar.print),$("#preMonth").addEvent("click",function(e){Calendar.NP("#setYear","#setMonth","previous",Calendar.print),e.preventDefault()}),$("#nextMonth").addEvent("click",function(e){Calendar.NP("#setYear","#setMonth","next",Calendar.print),e.preventDefault()}),bowlder.define("/tech/index2016/js/tools.js",[],{e_stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},e_preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},getImageResize:function(e,t,n){var a,o,i,r=n.width,s=n.height;return e=parseInt(e),t=parseInt(t),a=parseInt(e)/r,o=parseInt(t)/s,1!==(i=Math.min(a,o))&&(r=parseInt(r*i),s=parseInt(s*i)),{h:s,w:r}},getWindowSize:function(){var e=0,t=0;return document.documentElement&&document.documentElement.clientHeight?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&document.body.clientHeight?(e=document.body.clientWidth,t=document.body.clientHeight):window.innerHeight&&(e=window.innerWidth,t=window.innerHeight),{w:e,h:t}},getOffset:function(e){for(var t=0,n=0,a=e;a;)t+=a.offsetLeft,n+=a.offsetTop,a=a.offsetParent;return{x:t,y:n}},getPointerX:function(e){return e.pageX||e.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)},setFontSize:function(e){var t=this.getWindowSize().w;if(t<=750){var n=t/750*100;e.css("font-size",n)}},testDevice:function(){var e=window.navigator.appVersion;return{isMobile:/android.*?mobile|ipod|blackberry|bb\d+|phone/gi.test(e),isWx:/micromessenger/gi.test(e),isNewApp:/netease_news/i.test(e)||/NewsApp/gi.test(e),isIphone:/iphone/gi.test(e),isAndroid:/android/gi.test(e),isIpad:/ipad/gi.test(e),isPc:/Windows/gi.test(e)||/Macintosh/gi.test(e),isRetina:2<=window.devicePixelRatio&&320<document.documentElement.getBoundingClientRect().width}},fixDatePre:function(e){return e<10&&(e="0"+e),e},setDateFormat:function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,o=t.getDate(),i=t.getHours(),r=t.getMinutes();return n+"."+(a=this.fixDatePre(a))+"."+(o=this.fixDatePre(o))+" "+(i=this.fixDatePre(i))+":"+(r=this.fixDatePre(r))},setDateFormatByLine:function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,o=t.getDate(),i=t.getHours(),r=t.getMinutes();return a=this.fixDatePre(a),o=this.fixDatePre(o),i=this.fixDatePre(i),r=this.fixDatePre(r),n+"-"+a+"-"+o},setImageResize:function(e,t,n){return"http://imgsize.ph.126.net/?imgurl="+e+("_"+t+"x"+n+"x1x85.jpg")},trim:function(e){return String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},e.replace(/<.*?>/g,"").trim()},getVersion:function(){var e=0;return"Microsoft Internet Explorer"==navigator.appName&&"9."==navigator.appVersion.match(/9./i)&&(e=9),"Microsoft Internet Explorer"==navigator.appName&&"8."==navigator.appVersion.match(/8./i)?e=8:"Microsoft Internet Explorer"==navigator.appName&&"7."==navigator.appVersion.match(/7./i)?e=7:"Microsoft Internet Explorer"==navigator.appName&&"6."==navigator.appVersion.match(/6./i)&&(e=6),e},escapeHTML:function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}),bowlder.define("/modules/ne2015/adtracker/adTracker.js",[],function(){var s=bowlder;function e(){this.atList={},this.atDOM={},this.atData={},this.viewHeight=0<screen.height&&(window.innerHeight||document.documentElement.clientHeight)>=screen.height?screen.height:window.innerHeight||document.documentElement.clientHeight,this._item=".at_item",this.curKey="default"}return e.prototype={init:function(e){var t=this;t._item=e||t._item,s(window).bind("scroll",s.throttle(function(){t.check()},500))},check:function(){document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;var o=this,i=o.curKey,e=s(o._item);o.atDOM[i]=e,o.atList[i]=o.atList[i]||[];var r=[];s.each(e,function(e,t){var n=e.getAttribute("adType");r[n]?r[n].counter++:(r[n]=[],r[n].counter=0),o.atList[i][n]=o.atList[i][n]||[];var a="none"!=e.style.display&&e.getBoundingClientRect();o.atList[i][n]&&!o.atList[i][n][t]&&a&&a.top<=o.viewHeight-.01*a.height&&0<a.top?(o.atList[i][n][t]=!0,s.emit("atMonitor:in",{idx:r[n].counter,type:n,key:i})):o.atList[i][n]&&!o.atList[i][n][t]&&s(e).hasClass(".fixed")?o.atList[i][n][t]||(o.atList[i][n][t]=!0,s.emit("atMonitor:in",{idx:r[n].counter,type:n,key:i})):o.atList[i][n]&&o.atList[i][n][t]&&a&&(a.top<0||a.top>o.viewHeight-.01*a.height)&&(o.atList[i][n][t]=!1)})},receiver:function(){var t=this;s.on("atMonitor:in",function(e){window.console&&console.log("\u7b2c"+e.idx+"\u6761\uff0c\u7c7b\u578b"+e.type+"\u5e7f\u544a\u9732\u51fa"),t.postAction(e.idx,e.type,0)})},getData:function(e,o){this.curKey;var i=e.replace(/.*l=([\d,]+)&.*/,"$1");i=1===i.length?i:i.split(","),this.jsonp({url:e,callback:"cb",time:3e3,success:function(e){var t={};if(e.ads.length<i.length){t.result=e.result,t.ads=[];for(var n=0;n<i.length;n++)for(var a=0;a<e.ads.length;a++)if(i[n]==e.ads[a].location){t.ads.push(e.ads[a]);break}}else t=e;o&&o(t)},fail:function(e){window.console&&console.trace(e.message),o&&o()}})},makeAtData:function(e,t){var n=this,a=n.curKey;n.atData[a]=n.atData[a]||[],n.atData[a][e]=n.atData[a][e]||[];for(var o=0;o<t.length;o++)n.atData[a][e].push(t[o]);return n.atData},clearData:function(e){this.atData[e]=[]},jsonp:function(t){if(!(t=t||{}).url||!t.callback)throw new Error("\u53c2\u6570\u4e0d\u5408\u6cd5");var n=t.callbackName||("jsonp_"+Math.random()).replace(".",""),e=document.getElementsByTagName("head")[0],a="";t.data?(t.data[t.callback]=n,a+=function(e){var t=[];for(var n in e)t.push(encodeURI(n)+"="+encodeURI(e[n]));return t.join("&")}(t.data)):a+=t.callback+"="+n;var o=document.createElement("script");o.setAttribute("charset","UTF-8"),e.appendChild(o),window[n]=function(e){clearTimeout(o.timer),window[n]=null,t.success&&t.success(e)},o.src=t.url+(/\?/.test(t.url)?"&":"?")+a,t.time&&(o.timer=setTimeout(function(){window[n]=null,t.fail&&t.fail({message:"\u8d85\u65f6"})},t.time))},postAction:function(e,t,n){var a=this,o=a.curKey;if(a.atData[o]&&a.atData[o][t]&&0<a.atData[o][t].length&&a.atData[o][t][e]&&a.atData[o][t][e].monitor)for(var i=0;i<a.atData[o][t][e].monitor.length;i++)a.atData[o][t][e].monitor[i].action==n&&a.atData[o][t][e].monitor[i].url&&a.post(a.atData[o][t][e].monitor[i].url)},post:function(e){var t=document.getElementsByTagName("head")[0],n=(e=e,document.createElement("script"));n.src=e,t.appendChild(n),n.onerror=function(e){t.removeChild(n)},n.onload=function(e){t.removeChild(n)}}},new e}),bowlder.define("/modules/ne2015/adtracker/sspAd.js",["adTracker.js"],function(s){var c=bowlder;return{config:{top_ad_column:".top_ad_column",bottom_ad_column:".bottom_ad_column",right_rect_ad:".right_ad_item"},getAdDetail:function(e){for(var n=c(e),r=[],t=n.length,a=[],o=0;o<t;o++)!function(i){var e=n[i].getAttribute("requestUrl"),t=n[i].getAttribute("adType");r.push({requestUrl:e,adType:t}),a.push(new c.Promise(function(a,o){s.getData(e,function(e){var t=r[i];if(e){for(var n=0;n<e.ads.length;n++)c.extend(t,e.ads[n]);a(t)}else o("No Data!")})}))}(o);return a},generateIframe:function(e,t,n,a){var o=document.createElement("iframe"),i=this.generateClickMonitor(t,n);a=a||{};o.setAttribute("width",a.w||"300"),o.setAttribute("height",a.h||"250"),o.setAttribute("frameborder","0"),o.setAttribute("border","0"),o.setAttribute("marginwidth","0"),o.setAttribute("marginheight","0"),o.setAttribute("scrolling","no"),c(e).append(o),o.contentWindow.document.open(),o.contentWindow.document.write(i),o.contentWindow.document.close()},generateClickMonitor:function(e,t){for(var n,a="",o=0;o<t.length;o++)a+=0===o?'"'+t[o]+'"':',"'+t[o]+'"';return n='<script type="text/javascript">var urlMonitor=['+a+'];document.onclick=function(e){if(urlMonitor&&urlMonitor.length){for(var i=0;i<urlMonitor.length;i++){post(urlMonitor[i])}}};function post(url){var head=document.getElementsByTagName("head")[0],url=url;var script=document.createElement("script");script.src=url;head.appendChild(script);script.onerror=function(e){head.removeChild(script)};script.onload=function(e){head.removeChild(script)}};<\/script>',e=e.replace("\x3c!--sspClickMonitor--\x3e",n)}}}),bowlder.define("/tech/index2016/tech_index2016.js",["js/tools.js","../../modules/ne2015/adtracker/adTracker.js","../../modules/ne2015/adtracker/sspAd.js"],function(c,s,l){var o,n,a,d,u,m,f=bowlder,e=this.$widget,h=document.documentElement.clientHeight,p=0,g=f(".right_module"),t=f(".back_top"),i=f(".top-gg-area"),v=f("#right_viewer"),b=f("#view_bt"),w=f("#base_bottom");function r(){f(".banner_short")&&f.each(f(".banner_short"),function(e,t){var n=f(e)[0].offsetHeight+36;f(e).attr("data-btm",n)})}function _(){return window.innerWidth||document.documentElement.clientWidth}function y(e){var t=f(l.config.top_ad_column).find("iframe")[0];window.topAd1?function(){var e=window.innerWidth||document.documentElement.clientWidth,t="";t=1366<=e?'<iframe src="'+window.topAd1.adTop_src+'" width="1200" height="125" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no"></iframe><span class="channel_ad_2016">\u5e7f\u544a</span>':'<iframe src="'+window.topAd1.adTop_src+'" width="960" height="100" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no"></iframe><span class="channel_ad_2016">\u5e7f\u544a</span>';i.html(t)}():t&&(t.height="wider"===e?(t.width=1200,125):(t.width=960,100))}function x(){var e,t=_();e=o=t<1366?"pad":"wider",setTimeout(function(){r()},100),h=document.documentElement.clientHeight,n?n.length<1&&(n=f("#banner_box")):n=f("#banner_box"),_()<1920?n.removeClass("main-banner-box"):n.addClass("main-banner-box"),_()<1690?g.addClass("small_calendar"):g.removeClass("small_calendar"),a?a.length<1&&(a=f(".newest-lists")):a=f(".newest-lists"),"pad"==e?(T(),a.removeAttr("style"),f("html").addClass("pc_960")):(a.css("height",h-180),f("html").removeClass("pc_960")),y(o)}function T(){d?d.length<1&&(d=f("#lf_viewer")):d=f("#lf_viewer"),d.removeClass("pl_absolute"),d.removeClass("pl_fixed"),v.removeClass("pr_absolute"),v.removeClass("pr_fixed")}function D(){u?u.length<1&&(u=f("#base_top")):u=f("#base_top"),m?m.length<1&&(m=f("#newest_bottom")):m=f("#newest_bottom"),d?d.length<1&&(d=f("#lf_viewer")):d=f("#lf_viewer"),p=document.documentElement.scrollTop||0+document.body.scrollTop||0;var e=document.body.scrollHeight,t=(c.getOffset(u[0]).y,c.getOffset(b[0]).y-40),n=c.getOffset(w[0]).y,a=c.getOffset(m[0]).y,o=v[0].offsetHeight,i=a-150,r=n-h-160,s=n-o;1366<=_()&&(i<=p&&p<r?(d.removeClass("pl_absolute"),d.addClass("pl_fixed")):r<=p?(d.removeClass("pl_fixed"),d.addClass("pl_absolute")):p<i&&(d.removeClass("pl_fixed"),d.removeClass("pl_absolute"))),t<=p&&p<s?(v.removeClass("pr_absolute"),v.addClass("pr_fixed")):s<=p?(v.removeClass("pr_fixed"),v.addClass("pr_absolute")):p<t&&(v.removeClass("pr_absolute"),v.removeClass("pr_fixed")),800<p&&p<e-1500?g.css("display","block"):g.css("display","none")}f(window).bind("resize",function(){x(),D(),f.emit("global.resize")}),f(window).bind("scroll",function(){T(),D(),f.emit("global.scroll")}),window.textHeight=r,this.init=function(e){f.on("banner.done newsest.done",function(){x()}),t.bind("click",function(){return window.scrollTo(0,0),!1}),r()},e.ready(function(){function r(e){var t=[];if(e&&e.monitor)for(var n=0;n<e.monitor.length;n++)1===e.monitor[n].action&&t.push(e.monitor[n].url);return t}s.init();var e=l.getAdDetail(l.config.top_ad_column),t=l.getAdDetail(l.config.right_rect_ad),n=l.getAdDetail(l.config.bottom_ad_column);e.length&&f.q.all(e).then(function(e){var t=e[0].adType,n="",a=r(e[0]);e[0].hasHtmlResource&&e[0].htmlResource&&(n=e[0].htmlResource,"pad"===o?l.generateIframe(f(l.config.top_ad_column),n,a,{w:960,h:100}):l.generateIframe(f(l.config.top_ad_column),n,a,{w:1200,h:125}),s.makeAtData(t,e))}),t.length&&f.q.all(t).then(function(e){for(var t=e.length,n=e[0].adType,a=0;a<t;a++){var o="",i=r(e[a]);e[a].hasHtmlResource&&e[a].htmlResource&&"3010003"==e[a].style?(f(f(l.config.right_rect_ad)[a]).parent().addClass("right_ad_pictext"),o=e[a].htmlResource,l.generateIframe(f(l.config.right_rect_ad)[a],o,i,{w:300,h:128})):e[a].hasHtmlResource&&e[a].htmlResource&&(o=e[a].htmlResource,l.generateIframe(f(l.config.right_rect_ad)[a],o,i))}s.makeAtData(n,e)}),n.length&&f.q.all(n).then(function(e){var t=e[0].adType,n="",a=r(e[0]);e[0].hasHtmlResource&&e[0].htmlResource&&(n=e[0].htmlResource,"pad"===o?l.generateIframe(f(l.config.bottom_ad_column),n,a,{w:960,h:100}):l.generateIframe(f(l.config.bottom_ad_column),n,a,{w:1200,h:125}),s.makeAtData(t,e))}),s.receiver()})}),bowlder.define("/tech/index2016/modules/banner_main/banner_main.js",[],function(){var a=bowlder;function t(e){var t=a(".banner_short",e).attr("data-btm");t=parseInt(t),a(".banner_main",e).css({bottom:t+"px"})}function n(e){a(".banner_main",e).css({bottom:"24px"})}this.init=function(e){window.textHeight(),function(){if(1<a(".big_img").length){for(var e=a("#scroll .big_img").length,t=[],n=0;n<e;n++)0==n?t.push('<span class="current"></span>'):t.push("<span></span>");a("#scroll .crtls").html(t.join().replace(/,/," ")),new NTES.ui.Slide($(".crtls span"),$("#scroll .big_img"),"current","mouseover",5e3)}else a(".crtls").css("display","none")}(),a(".left_banner").bind("mouseover",function(){t(a(".left_banner"))}).bind("mouseout",function(){n(a(".left_banner"))}),a(".big_img").bind("mouseover",function(){t(a(".big_img.current"))}).bind("mouseout",function(){n(a(".big_img.current"))}),a(".banner1").bind("mouseover",function(){t(a(".banner1"))}).bind("mouseout",function(){n(a(".banner1"))}),a(".banner2").bind("mouseover",function(){t(a(".banner2"))}).bind("mouseout",function(){n(a(".banner2"))}),a(".right_banner").bind("mouseover",function(){t(a(".right_banner"))}).bind("mouseout",function(){n(a(".right_banner"))}),a.emit("banner.done")}}),bowlder.define("/tech/index2016/modules/lf_newest/lf_newest.js",[],function(){var t,n=bowlder,a=(this.state={},this.$widget.roles);this.init=function(e){e.ready(function(){a.scrollbar.plugin("/modules/plugins/scroller.js",{state:{axis:"y",autoHide:!0,handleSize:80}}).then(function(e){t=e[0]})}),n.on("global.resize",n.throttle(function(){setTimeout(function(){t.refresh()},500)},300)),n.emit("newsest.done")}}),bowlder.define("/tech/index2016/js/request.js",function(){var $$=bowlder,scope=this,mockCache={},console=window.console||{},servicePath="/",mockAPI=!1,JSON_START=/^\s*(\[|\{[^\{])/,JSON_END=/[\}\]]\s*$/;$$.ajax.defaults.transformResponse=function(data){return $$.isString(data)&&JSON_START.test(data)&&JSON_END.test(data)&&(data=eval("("+data+")")),data},console.log=console.log||function(){},$$.ajax.defaults.transformRequest=function(e){if(e){var t=[];for(var n in e)t.push(n+"="+encodeURIComponent($$.isObject(e[n])?JSON.stringify(e[n]):e[n]));return t.join("&")}},$$.ajax.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var urlMap={getNewsData:"//tech.163.com/special/00097UHL/tech_datalist{{pageno}}.js?callback={{callbackName}}",getAdDetail:"//tech.163.com/special/000937R5/tech_strem.js?callback={{callbackName}}"},lastNewsFeedTime=(new Date).getTime(),diffTime,newsFeedMap={};scope.service=function(e,t){if((t=t||{}).url=mockAPI?"/system/tools/node/get.js.node?charset=gbk&url="+urlMap[e]:urlMap[e],"jsonp"===t.method){var n=urlMap[e];return n=$$.template.replace(n,t.urlParams?t.urlParams:{callbackName:"callback"}),$$.ajax.jsonp(n,{headers:{charset:t.charset||"gbk"}})}if(t.urlParams&&(t.url=$$.template.replace(t.url,[t.urlParams])),t.method=t.method||"get","getNewsData"===e){var a=(new Date).getTime();if(diffTime=(a-lastNewsFeedTime)/1e3,lastNewsFeedTime=a,!(0<diffTime)&&newsFeedMap[t.url])return newsFeedMap[t.url];newsFeedMap[t.url]=$$.ajax(t)}return"get"==t.method?$$.ajax(t):newsFeedMap[t.url]}}),bowlder.define("/tech/index2016/modules/datalist/datalist.js",["../../js/tools.js","../../js/request.js","../../../../modules/ne2015/adtracker/adTracker.js"],function(n,i,o){var r=this,s=bowlder,c=(window.cmsStore,window._,r.$widget),a=(c.roles,parseFloat(navigator.appVersion.split("MSIE")[1]||0),0),l=0,d=0;r.myState={counter:0,newsFeedCounter:0,message:0,complete:0,totalPage:3,bgLoading:!0,fixedTop:!1},r.datalist=[],r.adDatalist;var u={},m=0;function e(t){r.myState.complete=0;var n=r.datalist,a="";a=0==t?"":t<10&&0<t?"_0"+t:"_"+t,i.service("getNewsData",{method:"jsonp",urlParams:{callbackName:"data_callback",pageno:a}}).success(function(e){r.myState.counter=++m,r.myState.bgLoading=!1,e=function(e){for(var t=[],n=0;n<e.length;n++)u[e[n].docurl]||(u[e[n].docurl]=!0,t.push(e[n]));return t}(e),null!=n?r.datalist=n.concat(e):(r.datalist=e,null!=r.adposition&&r.datalist.splice(r.adposition,0,{fixedInc:!0})),r.myState.newsFeedCounter=a,r.myState.complete=1,0==t&&i.service("getAdDetail",{method:"jsonp",urlParams:{callbackName:"ad_callback"}}).success(function(e){var t=e.url;if(!t)return!1;var n=new s.Promise(function(a,e){o.getData(t,function(e){if(e){for(var t=0;t<e.ads.length;t++){var n=e.ads[t];s.extend(n,{infoAdIdx:t})}a(e)}})});n.then(function(e){var t=r.adlist=e.ads;o.makeAtData("infoAd",t);for(var n=0;n<t.length;n++){var a=t[n].position;a&&r.datalist.splice(a-1,0,t[n])}r.$refresh()})}),c.refresh(),s(window).trigger("scroll")})}r.adClickTracker=function(e,t){o.postAction(e,t,1)},r.formatTime=function(e){var t=parseInt((Date.parse(Date())-Date.parse(e))/6e4);return t<60?parseInt(t)+"\u5206\u949f\u524d":60<=t&&t<1440?parseInt(t/60)+"\u5c0f\u65f6\u524d":1440<=t&&t<43200?parseInt(t/1440)+"\u5929\u524d":43200<=t&&t<525600?parseInt(t/43200)+"\u4e2a\u6708\u524d":parseInt(t/525600)+"\u5e74\u524d"};var f=!(r.clickLoadMore=function(){e(r.myState.counter+1),r.$refresh(),s(window).trigger("scroll")});c.ready(function(){e(0);if(setTimeout(function(){s(window).bind("scroll",function(){if(a=document.documentElement.scrollTop||0+document.body.scrollTop||0,l=n.getOffset(s("."+r.loadMoreFoot)[0]).y-200,(d=n.getOffset(s(".datalist")[0]).y)-45<=a&&a<=l?r.myState.fixedTop=!0:s("."+r.newsdataList)[0].clientHeight-0>a&&d-50<=a?r.myState.fixedTop=!0:r.myState.fixedTop=!1,r.myState.fixedTop!==f&&r.$refresh(),f=r.myState.fixedTop,r.scrollLoad){var e=0,t=r.myState.totalPage;r.scrollLoadNum&&(e=r.scrollLoadNum),r.myState.counter<t&&1200<l&&l-a<1200&&r.myState.counter<e&&1==r.myState.complete&&(r.clickLoadMore(),s(window).trigger("scroll"))}})},100),r.showMessage){setInterval(function(){var o=r.datalist;o&&i.service("getNewsData",{method:"jsonp",charset:"GBK",urlParams:{callbackName:"data_callback",pageno:""}}).success(function(e){for(var t,n=0;n<o.length;n++)if(!o[n].fixedInc){t=o[n];break}var a=0;for(n=0;n<e.length;n++)if(e[n].fixedInc)a++;else if(e[n].title==t[n].title)break;r.myState.message=n-a,r.$refresh()})},4e4)}}),r.init=function(e){s.extend(i.urlMap,r.urlMap)},r.refreshList=function(){s("html,body").animate({scrollTop:d-45},1e3),r.datalist=void 0,r.$refresh(),e(0),r.myState.message=0}}),bowlder.define("/tech/index2016/modules/datalist/config.js",{scrollLoad:!0,scrollLoadNum:3,showMessage:!1,newsdataList:"newsdata_list",loadMoreTip:"load_more_tip",loadMoreFoot:"load_more_foot"}),function(o,h,e){var r={},t=(new Date).valueOf(),s={format:function(e){for(var t=e,n=1;n<arguments.length;n+=1){var a=new RegExp("\\{"+(n-1)+"\\}","gi");t=t.replace(a,arguments[n])}return t},loadJs:function(e,t,n){var a=h.createElement("script");a.type="text/javascript",a.charset=n||"utf-8",a.onload=function(){t&&t();try{h.body.removeChild(a)}catch(e){}},a.src=e,h.body.appendChild(a)},addEvent:function(t,e,a){var o=function(e){if(e.preventDefault||(e.preventDefault=function(){e.returnValue=!1}),e.stopPropagation||(e.stopPropagation=function(){e.cancelBubble=!0}),e.target||(e.target=e.srcElement||h),3===e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),null==e.pageX&&null!=e.clientX){var t=e.target.ownerDocument||h,n=t.documentElement,a=t.body;e.pageX=e.clientX+(n&&n.scrollLeft||a&&a.scrollLeft||0)-(n&&n.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(n&&n.scrollTop||a&&a.scrollTop||0)-(n&&n.clientTop||a&&a.clientTop||0)}return"DOMMouseScroll"!=e.type&&"mousewheel"!=e.type||(e.delta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3),e},n=function(e){var t=e.currentTarget,n=e.relatedTarget;(function(e,t){try{var n=e.contains?e!=t&&e.contains(t):!!(16&e.compareDocumentPosition(t))}catch(e){}return n||!1})(t,n)||t==n||a.call(t,o(e))};t.addEventListener?"mouseenter"==e?t.addEventListener("mouseover",n,!1):"mouseleave"==e?t.addEventListener("mouseout",n,!1):"mousewheel"===e&&void 0!==h.mozHidden?t.addEventListener("DOMMouseScroll",n,!1):t.addEventListener(e,a,!1):t.attachEvent("on"+e,function(e){a.call(t,o(e))})},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isNodeList:function(e){return"[object NodeList]"==Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},each:function(e,t,n){if(null!=e)if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t,n);else if(e.length===+e.length){for(var a=0,o=e.length;a<o;a++)if(t.call(n,e[a],a,e)==={})return}else for(var i in e)if(e.hasOwnProperty(i)&&t.call(n,e[i],i,e)==={})return},getElementsByClassName:function(e,t,n){var a,o=[];if(h.getElementsByClassName){var i=(t||h).getElementsByClassName(e);for(a=0;t=i[a++];)"*"!==n&&t.tagName===n.toUpperCase()&&o.push(t);return o}t=t||h,n=n||"*";var r,s,c=e.split(" "),l="*"===n&&t.all?t.all:t.getElementsByTagName(n),d=[];for(a=c.length;0<=--a;)d.push(new RegExp("(^|\\s)"+c[a]+"(\\s|$)"));for(var u=l.length;0<=--u;){r=l[u],s=!1;for(var m=0,f=d.length;m<f&&(s=d[m].test(r.className));m++);s&&o.push(r)}return o},getScrollOffset:function(){var e=h.documentElement,t=h.body;return o.pageYOffset?[o.pageXOffset,o.pageYOffset]:e&&e.scrollTop?[e.scrollLeft,e.scrollTop]:[t.scrollLeft,t.scrollTop]},getUUID:function(){return++t}},a={intro:'<div class="yx-intro">    <div class="yx-intro-inner">        <div class="yx-intro-text">            <h3>\u5b8c\u6210\u4ee5\u4e0b\u4efb\u52a1\uff0c\u5c31\u53ef\u4ee5\u8f6c\u53d1\u6613\u4fe1\u5566\uff01</h3>            <ol>                <li class="{0}"><a href="http://e.mail.163.com/mobilemail/home.do?from=yixinshare" target="_blank">\u5f00\u901a\u7f51\u6613\u624b\u673a\u53f7\u7801\u90ae\u7bb1</a></li>                <li class="{1}"><a href="http://yixin.im/#f=www" target="_blank">\u624b\u673a\u53f7\u7801\u5f00\u901a\u6613\u4fe1</a></li>            </ol>        </div>        <div class="yx-intro-qr">            <div class="yx-intro-qr-tip" title="\u4e8c\u7ef4\u7801\u5206\u4eab"></div>            <h3>\u626b\u63cf\u4e8c\u7ef4\u7801\u5206\u4eab</h3>            <div class="yx-intro-qr-img">                <img src="about:blank" data-src="http://yixin.news.163.com/yixin/share/qrcode.b?w=180&h=180&content={2}" width="180" height="180" />            </div>        </div>    </div></div>',share:'<div class="yx-share">    <h3>{0}</h3>    <div class="yx-summary">        <div class="yx-pic" style=\'background-image: url("http://timge8.126.net/image?h=90&w=90&fill=0&gif=0&quality=80&url={2}")\'></div>        <p>{1}</p>    </div>    <div class="yx-remark">        <input type="text" class="yx-remark-input" maxlength="300" placeholder="\u8bf4\u70b9\u4ec0\u4e48...">    </div>    <div class="yx-bottom cf">        <div class="yx-mobile">            <span>\u7ed1\u5b9a\u7684\u624b\u673a\u5c3e\u6570\u662f\uff1a<b>{3}</b></span>            <a href="https://reg.163.com/mobilealias/index.do" target="_blank">\u6211\u8981\u4fee\u6539</a>        </div>        <a class="yx-sbtn">\u5206\u4eab\u5230\u6613\u4fe1\u670b\u53cb\u5708</a>    </div></div>',msg:'<div class="yx-msg">{0}</div>',pub:'<a href="javascript:void(0);" class="yx-close" target="_self">\xd7</a>'},n=/P_INFO=([^;=]+);/,i=function(){var e=h.cookie.match(n);return e?e.pop().split("|"):null},c=function(){var e=i();return e?e[0]:null},l={};r._node=h.createElement("div");var d={_opened:!(r._node.className="yx-box"),_shareOpened:!1,_init:function(){r._node.innerHTML=""},_show:function(){!this._opened&&h.body.appendChild(r._node),this._opened=!0},_hide:function(){this._opened&&h.body.removeChild(r._node),this._opened=!1},_hideTimer:null,hide:function(e){e=e||0,d._hideTimer=setTimeout(function(){d._hide()},1e3*e)}};"intro share msg".replace(/[^, ]+/g,function(n){d[n]=function(){this._init(),r._node.className="yx-box yx-status-"+n;var e=a[n]+a.pub,t=s.toArray(arguments);t.unshift(e),r._node.innerHTML=s.format.apply(null,t),this._hideTimer&&clearTimeout(this._hideTimer),this._hide(),this._show(),/MSIE 6/gi.test(navigator.userAgent)&&(r._node.style.top=s.getScrollOffset()[1]+200+"px",r._node.className=r._node.className),"share"===n&&(s.getElementsByClassName("yx-remark-input",r._node,"input")[0].focus(),this._shareOpened=!0)}}),s.addEvent(r._node,"click",function(e){var t=e.target||e.srcElement;0<=t.className.indexOf("yx-close")&&d._hide(),0<=t.className.indexOf("yx-sbtn")&&u()}),s.addEvent(r._node,"mousemove",function(e){var t="yx-intro-qr-tip";if(0<=(e.target||e.srcElement).className.indexOf(t)){var n=s.getElementsByClassName("yx-intro",r._node,"div")[0],a=s.getElementsByClassName(t,n,"div")[0],o=setTimeout(function(){n.className="yx-intro yx-intro-status-qr"},300),i=function(){o&&clearTimeout(o)};s.addEvent(a,"mouseleave",i),s.addEvent(n,"mouseleave",function(){i(),n.className="yx-intro"})}}),s.addEvent(h,"keyup",function(e){27===e.keyCode&&d._opened&&d._hide(),13===e.keyCode&&d._shareOpened&&u()});var u=function(){var n={};s.each(l,function(e,t){n[t]="function"==typeof e?e():e});var e={title:n.title||"",desc:n.desc,image:"http://timge8.126.net/image?h=500&w=500&fill=0&gif=0&quality=80&url="+n.image,url:n.url,source:n.source,ps:s.getElementsByClassName("yx-remark-input",r._node,"input")[0].value,m:c(),c:"yixin_cb_"+s.getUUID()},a=[];s.each(e,function(e,t){a.push(t+"="+encodeURIComponent(e))}),o[e.c]=function(e){1==e.result?d.msg("\u5206\u4eab\u6210\u529f!"):d.msg("\u5206\u4eab\u5931\u8d25, \u8bf7\u7a0d\u5019\u91cd\u8bd5."),"number"==typeof n.closeAfterShare&&0<=n.closeAfterShare?d.hide(n.closeAfterShare):void 0===n.closeAfterShare&&d.hide(2)},s.loadJs("http://yixin.news.163.com/yixin/share/addfdfeed.b?"+a.join("&"))},m=function(e){var n,a;n=e,a={title:"",desc:"",image:"http://static.ws.126.net/f2e/wap/touch_index_2016/trunk/images/icon114x114.png",url:"http://news.163.com?f=YixinShare",source:"\u7f51\u6613\u65b0\u95fb"},s.each(a,function(e,t){n[t]||(n[t]=a[t])});!function(e){var a={};s.each(e,function(e,t){var n="function"==typeof e?e():e;a[t]=encodeURIComponent(n)});var t="https://open.yixin.im/share?appkey="+(a.yixinkey||"yxb7d5da84ca9642ab97d73cd6301664ad")+"&type=webpage&title="+a.title+"&desc="+a.desc+"&pic="+a.image+"&url="+a.url;try{o.open(t,"_blank","width=650,height=500")}catch(e){d.msg("\u5206\u4eab\u5931\u8d25(\u5185\u90e8\u9519\u8bef)"),d.hide(2)}}(e=n);var t=e.url.replace("http://","http//snstj.")+"?snstj_yixin";o.neteaseTracker&&o.neteaseTracker(!0,t)};r.bind=function(e,t){if(e){t=t||{};var n=[];if(e.nodeType&&1===e.nodeType)n.push(e);else if(s.isArray(e)&&0<e.length)n=e;else if(s.isNodeList(e)&&0<e.length)n=s.toArray(e);else{if("string"!=typeof e)return;n.push(h.getElementById(e))}s.each(n,function(e){s.addEvent(e,"click",function(e){m(t),e.preventDefault()})})}},r.open=m,o.YixinShare=r}(window,document),bowlder.define("/modules/shares/shares.js",[],function(){var r,n,s=this,b=bowlder,w=location.href,e=/mobile|ipod|blackberry|bb\d+|phone|pad/i.test(navigator.userAgent),o=s.state={title:document.title,host:location.host,source:"\u7f51\u6613",qrSize:110},c=o.cls={};function a(e){var t=b.extend({url:w,summary:"",pic:"",sinakey:""},o,s.shareInfo,window.NTES_SHARE_INFO),n=t.summary||t.title,a=t.desc||(t.pic?'<img src="'+t.pic+'">':"")+n;return/yixin|weixin/.test(e)?{title:t.title,desc:t.summary,image:t.pic,url:t["url_"+e]||t.url,source:t.source,yixinkey:t.yixinkey||"yxb7d5da84ca9642ab97d73cd6301664ad"}:{host:t.host,title:encodeURIComponent(t.title),summary:encodeURIComponent(n),url:encodeURIComponent(t["url_"+e]||t.url),source:encodeURIComponent(t.source),pic:t.pic,desc:encodeURIComponent(a),sinakey:t.sinakey}}var t=b.template.replace;s.qrcodeFlag=!1;var i={pop:function(e,t){e&&window.open(e),s.onShare&&s.onShare(t)},yixin:function(){window.YixinShare&&YixinShare.open(a("yixin")),this.pop(null,"yixin")},lofter:function(){var e=t("http://www.lofter.com/sharetext/?from=163&title={{title}}&source={{source}}&sourceUrl={{url}}&charset=utf-8&content={{desc}}",a("lofter"));this.pop(e,"lofter")},renren:function(){var e=t("http://widget.renren.com/dialog/share?resourceUrl={{url}}%3Fsns_renren&pic={{pic}}&title={{title}}&description={{summary}}",a("renren"));this.pop(e,"renren")},qzone:function(){var e=t("http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={{url}}%23sns_qzone&desc=&summary={{summary}}&title={{title}}&site={{source}}&pics={{pic}}",a("qzone"));this.pop(e,"qzone")},youdao:function(){var e=t("http://note.youdao.com/memory/?url={{url}}%23sns_youdao&title={{summary}}&summary=&product={{source}}",a("youdao"));this.pop(e,"youdao")},sina:function(){var e=t("http://service.weibo.com/share/share.php?title={{summary}}&url={{url}}%23sns_weibo&pic={{pic}}&searchPic=false&{{sinakey}}",a("sina"));this.pop(e,"sina")},weixin:function(e,t){if(!t&&r&&(t=r.qrcode[0]),!(b.utils.msie<7)&&t){if(b.isDefined(e)||(e=!s.qrcodeFlag),e){if(n){if(s.qrcodeFlag)return}else n=b.ajax.require("http://static.ws.126.net/f2e/libs/qrcode.js").then(function(){var e=a("weixin");new QRCode(t,{correctLevel:QRCode.CorrectLevel.M,text:e.title,width:o.qrSize,height:o.qrSize,colorDark:"#000000",colorLight:"#ffffff"}).makeCode(e.url+"#sns_weixin")});s.qrcodeFlag=!0}else s.qrcodeFlag=!1;s.$refresh&&s.$refresh()}}};i.weibo=i.sina;var l=!(s.share=function(e){if(i[e])return i[e].apply(i,[].slice.call(arguments,1)),s.$emit("ne.share.done",e),!1});s.initWeixin=function(){l||(l=!0,i.weixin())},s.init=function(e){var t=e.$root,n=t.parent(),a=e.roles["share-wrap"]||t,o=a.find(".ne-shares-weixin");r=e.roles;var i=function(){var e,t;a.css({visibility:"hidden"}),n.bind("mouseover",function(){e&&(clearTimeout(e),e=null),t=setTimeout(function(){n.addClass(c.hover),a.css({visibility:"visible"})},500)}).bind("mouseout",function(){t&&(clearTimeout(t),t=null),e=setTimeout(function(){n.removeClass(c.hover),a.css({visibility:"hidden"})},250)}),i=null};c.hover?i():s.$watch("state.cls.hover",function(){c.hover&&i&&(i(),s.$unwatch("state.cls.hover"))}),o.bind("mouseover",function(){a.parent().addClass("openweixin")}),o.bind("mouseout",function(){a.parent().removeClass("openweixin")})},e&&function(){var n,e,t=/open.163.com/.test(location.host),a={title:t?window.NTES_SHARE_INFO&&window.NTES_SHARE_INFO.title||document.title||"\u7f51\u6613\u516c\u5f00\u8bfe":document.title||"\u7f51\u6613\u65b0\u95fb",desc:window.NTES_SHARE_INFO&&window.NTES_SHARE_INFO.summary||"",img_url:t?window.NTES_SHARE_INFO&&window.NTES_SHARE_INFO.pic||"http://static.ws.126.net/f2e/open/images/open140.png":"http://static.ws.126.net/travel/2014/7/22/20140722172931b2127.png"},o=function(){var e=location.href,t=e.indexOf("?")+1,n={};if(0!==t)for(var a=e.substring(t).split("&"),o=[],i=0;i<a.length;i++)if(1<(o=a[i].split("=")).length){if(i===a.length-1){var r=o[1].indexOf("#");-1!==r&&(o[1]=o[1].substring(0,r))}n[o[0]]=o[1]}return n}(),i=location.origin+location.pathname,r=parseInt(o.w)||0,s=o.t||"5",c=o.s||"",l=navigator.userAgent.toLowerCase(),d=document.referrer,u=l.match(/newsapp/gi);u||r||(r=1),c||(c=u?"newsapp":d&&d.match(/163\.com/i)?"163":"other"),o.s=c,o.t=s,o.w=r+1;var m=[];b.each(o,function(e,t){m.push(t+"="+e)}),w=a.link=i+"?"+m.join("&"),n="http://sps.163.com/func/?func=sharedone&modelurl="+i+"&spss="+c+"&spst="+s+"&spsw="+r;var f=function(){var t=window.WeixinJSBridge;t.on("menu:share:timeline",function(e){t.invoke("shareTimeline",a,function(){window.neteaseTracker&&neteaseTracker(!1,n+"&spsf=wx","","sps")})}),t.on("menu:share:appmessage",function(e){t.invoke("sendAppMessage",a,function(){window.neteaseTracker&&neteaseTracker(!1,n+"&spsf=wx","","sps")})})};window.WeixinJSBridge?f():document.addEventListener&&document.addEventListener("WeixinJSBridgeReady",f,!1);var h=function(){var t=window.YixinJSBridge;t.on("menu:share:timeline",function(e){t.invoke("shareTimeline",a,function(){window.neteaseTracker&&neteaseTracker(!1,n+"&spsf=yx","","sps")})}),t.on("menu:share:appmessage",function(e){t.invoke("sendAppMessage",a,function(){window.neteaseTracker&&neteaseTracker(!1,n+"&spsf=yx","","sps")})})};window.YixinJSBridge?h():document.addEventListener&&document.addEventListener("YixinJSBridgeReady",h,!1);var p={yixin:"yx",sina:"wb",weibo:"wb",weixin:"wx",qzone:"qq"};b.on("ne.share.done",function(e){window.neteaseTracker&&neteaseTracker(!1,n+"&spsf="+(p[e]||e),"","sps")});var g="";if(l.match(/micromessenger/gi)?g="wx":l.match(/weibo/gi)||d.match(/weibo\.com/gi)?g="wb":l.match(/yixin/gi)?g="yx":(l.match(/qq/gi)||d.match(/(qzone|qq)\.com/gi))&&(g="qq"),e="http://sps.163.com/special/?modelurl="+i+"&spss="+c+"&spst="+s+"&spsf="+g+"&spsw="+r,0<r){var v=function(){neteaseTracker.spsInited||(neteaseTracker.spsInited=!0,neteaseTracker(!1,e,"","sps"))};window.neteaseTracker?v():b.on("devilfish.ready",function(){v()})}}()}),bowlder.define("/m/plugins/gesture.js",function(){var d=bowlder;if(!d.event("tap")){var e,m,f,u,h,p,t=d(document),n=navigator.userAgent.toLowerCase(),a=/android|ipad|ipod|blackberry|bb\d+|mobile|phone/.test(n),o={click:"click",mousedown:"touchstart",mouseup:"touchend",mouseover:"touchstart",mouseout:"touchend",mousemove:"touchmove",mouseleave:"touchcancel"},g=this.state={tolerance:6,longTimeout:600,prevent:/android/.test(n)},i=function(e){return a?o[e]:e},v={},b=null;d.event("tap",function(t){var n=this;c(),d.dom.bind(n,i("mousedown"),function(e){s(e),h||(h={node:n,fire:t})})}),d.event("longpress",function(t){var n=this;c(),d.dom.bind(n,i("mousedown"),function(e){s(e),u||(u={node:n,stime:+new Date,fire:t})}),d.dom.bind(n,"contextmenu",function(e){e.preventDefault()})}),d.event("pinch",function(n){var a=this;c(),d.dom.bind(a,"touchstart",function(e){if(e.touches[0]&&e.touches[1]&&(s(e,!0),!p)){var t={pageX:(e.touches[0].pageX+e.touches[1].pageX)/2,pageY:(e.touches[0].pageY+e.touches[1].pageY)/2};p={node:a,center:t,distance1:_(t,e.touches[0]),distance2:_(t,e.touches[1]),fire:n}}})}),d.event("swipe",function(t){var n=this;c(),d.dom.bind(n,i("mousedown"),function(e){s(e),m||p||(m={node:n,fire:t})})});var r=function(t){var n=this;c(),d.dom.bind(n,i("mousedown"),function(e){s(e,!0),f||p||(f={node:n,startTime:+new Date,fire:t})})};d.event("pan",r),d.event("swiping",r)}function w(){if(f){var e=(+new Date-v.speedTimer)/1e3;v.speedX=(f.dx||0-v.dx)/e,v.speedY=(f.dy||0-v.dy)/e,d.extend(v,{speedTimer:+new Date,dx:f.dx,dy:f.dy})}}function _(e,t){return Math.sqrt(Math.pow(e.pageX-t.pageX,2)+Math.pow(e.pageY-t.pageY,2))}function s(e,t){var n=e.target&&e.target.tagName||"";(g.prevent||t&&!/input|textarea/i.test(n))&&(!0,e.preventDefault()),b||(b={_x:e.clientX,_y:e.clientY,x:e.clientX,y:e.clientY,target:e.target,distanceX:0,distanceY:0})}function y(e,t){return Math.abs(t)/Math.abs(e)>Math.tan(7*Math.PI/18)?0<t?"down":"up":0<e?"right":"left"}function c(){e||(e=!0,t.bind(i("mousemove"),function(e){if(b){var t=e.touches&&e.touches[0]?document.elementFromPoint(e.touches[0].pageX,e.touches[0].pageY):e.target;v.interval||(v.dx=0,v.dy=0,v.speedTimer=+new Date,v.interval=setInterval(w,80)),g.prevent&&(f||m||p)&&e.preventDefault();var n=e.clientX,a=e.clientY,o=n-b.x,i=a-b.y,r=n-b._x,s=a-b._y;if(b.distanceX+=Math.abs(o),b.distanceY+=Math.abs(i),b.x=n,b.y=a,f&&(f.active||60<+new Date-f.startTime&&Math.max(Math.abs(r),Math.abs(s))>g.tolerance)){f.active=!0;var c=y(o,i);f.fire({direction:c,speedX:v.speedX,speedY:v.speedY,ddx:o,ddy:i,dx:f.dx=r,dy:f.dy=s},t)}if(p&&e.changedTouches[0]&&e.changedTouches[1]){var l=p.center,d=_(e.changedTouches[0],l)-p.distance1,u=_(e.changedTouches[1],l)-p.distance2;(p.zoom||3<Math.abs(d)&&3<Math.abs(u)&&0<d*u)&&(p.zoom=1+Math.log(1+(d+u)/(p.distance1+p.distance2+100)),p.fire({fireTarget:b.target,ending:!1,zoom:p.zoom,fireX:l.pageX,fireY:l.pageY}),m=f=null)}}}),t.bind(i("mouseup")+" "+i("mouseleave"),function(e){if(b){g.prevent&&e.preventDefault(),p&&p.zoom&&p.fire({fireTarget:b.target,ending:!0,zoom:p.zoom,fireX:p.center.pageX,fireY:p.center.pageY}),p=f=null;var t=this,n=+new Date,a=e.clientX,o=e.clientY,i=b.target;if(u)n-u.stime>=g.longTimeout&&Math.max(Math.abs(b.distanceX),Math.abs(b.distanceY))<g.tolerance&&(t.longPressed=!0,setTimeout(function(){t.longPressed=!1},300),e.preventDefault(),u.fire(),h=null),u=null;if(m){if(!t.longPressed){var r=a-b._x,s=o-b._y,c=y(r,s);if(Math.abs(r)>g.tolerance||Math.abs(s)>g.tolerance){if(!d.isDefined(v.speedX)){var l=(+new Date-v.speedTimer)/1e3;v.speedX=r/l,v.speedY=s/l}m.fire({fireTarget:i,direction:c,speedX:v.speedX,speedY:v.speedY,dx:r,dy:s},i),h=null}}m=null}!t.longPressed&&Math.abs(b.distanceX)<g.tolerance&&Math.abs(b.distanceY)<g.tolerance&&h&&h.fire({fireTarget:i,fireX:e.pageX,fireY:e.pageY},i),h=null,v.interval&&(clearInterval(v.interval),v={}),!1,b=null}}))}}),bowlder.define("/modules/plugins/scroller.js",["/m/plugins/gesture.js"],function(e){var c,l=bowlder,o=this,a=l.utils.rAF,t=navigator.userAgent.toLowerCase(),n=/msie (\d+)/.test(t),i=/trident\/.*; rv:(\d+)/.test(t),r=/macintosh/.test(t)||n||i,d=/android|ipad|ipod|blackberry|bb\d+|mobile|phone/.test(t),u=o.state={bodySelector:"ul",axis:"y",speed:1},m=u.cls={wrap:"ne-scrl-wrap",handle:"ne-scrl-btn",yWrap:"ne-scrl-y"},s={forward:function(e){var t=this._bPos-e;t=0<t?t:0,this._setPos(t),0===t&&this.stop()},backward:function(e){var t=this,n=t._bPos+e;n=n<t._bRange?n:t._bRange,t._setPos(n),n===t._bRange&&t.stop()}},f=function(e,t,n){var a=this;a._axis=u.axis,a._fix="x"==a._axis?{pos:"left",offsetSize:"offsetWidth",pageAxis:"pageX",offsetPos:"offsetLeft",scrollPos:"scrollLeft"}:{pos:"top",offsetSize:"offsetHeight",pageAxis:"pageY",offsetPos:"offsetTop",scrollPos:"scrollTop"},a.lpf=10,a.speed=60,l.utils.msie<9&&(a.speed=20),a._body=t,a._bCnt=t.parentNode,a._bPos=0,a._bCnt.style.overflow="hidden",a._handle=e,a._hCnt=e.parentNode,a._hPos=0,a._totalSize=n,a._scrolled=function(){a.scrolling=null,o.$emit("scrolled",a._bPos)}.bind(a),void 0!==e&&setTimeout(function(){a.refresh();var e=new h(a._handle);e.mouseStart=a._mouseStart.bind(a),e.mouseDrag=a._mouseDrag.bind(a),e.mouseStop=a._mouseStop.bind(a),l(a._hCnt).bind("click",a._mouseClick.bind(a)),"y"==u.axis&&(d?(l(a._bCnt).bind("swiping",a._mousewheel.bind(a)),l(a._bCnt).bind("swipe",a._momentum.bind(a))):(l(a._bCnt).bind("mousewheel",a._mousewheel.bind(a)).bind("wheel",a._mousewheel.bind(a)),a._bCnt.attachEvent&&a._bCnt.attachEvent("onmousewheel",a._mousewheel.bind(a))))})};f.prototype={refresh:function(){var e=this,t=e._handle,n=e._totalSize||e._body[e._fix.offsetSize];e._bRange=Math.max(0,n-e._bCnt[e._fix.offsetSize]);var a=e._bCnt[e._fix.offsetSize],o=t.parentNode[e._fix.offsetSize],i=u.handleSize||Math.max(36,Math.min(a*o/n,o)),r="y"==u.axis?"height":"width";l.dom.css(t,r,i),l.dom.css(e._hCnt,r,a),e._hRange=Math.max(0,a-i),e.bhRate=e._hRange?e._bRange/e._hRange:0,e._hCnt.style.display=0===e.bhRate?"none":"block",e._setPos(e._bPos)},start:function(e,t){e="forward"==e?"forward":"backward",this._move=s[e];var n={timer:this._timer,length:isNaN(t)?-1:parseInt(t)};this._scroll(n)},stop:function(){return this._timer=+new Date,this},hScrollTo:function(e){var t=this,n=(e-t._handle[t._fix.offsetSize]/2)*t.bhRate-t._bPos;n<0?t.stop().start("forward",-1*n):t.stop().start("backward",n)},scrollTo:function(e){var t=Math.abs(e)-this._bPos;t<0?this.stop().start("forward",-1*t):this.stop().start("backward",t)},_scroll:function(e){var t,n=this;e.timer!=n._timer||e.length<=0||(t=Math.min(n.lpf*Math.ceil(e.length/n.speed),e.length),e.length-=t,0<e.length&&a(n._scroll.bind(n,e)),n._move(t))},_setPos:function(e){var t=this;e<0&&(e=0),e>t._bRange&&(e=t._bRange),t._bPos=e,u.scroll?t._bCnt[t._fix.scrollPos]=t._bPos:l.dom.css(t._body,t._fix.pos,-t._bPos),t._handle&&(t._hPos=t.bhRate?e/t.bhRate:0,l.dom.css(t._handle,t._fix.pos+":"+t._hPos+"px")),t.scrolling?clearTimeout(t.scrolling):o.$emit("onscroll"),t.scrolling=setTimeout(t._scrolled,300),o.$emit("scrolling",e)},_mousewheel:function(e){var t=this;if(t.bhRate||t.refresh(),!t.bhRate)return!0;var n=e.ddy||(e.wheelDelta?e.wheelDelta/6:(-e.deltaY||-e.detail)*(r?1:20));return 1<Math.abs(n)&&t._setPos(t._bPos-n*u.speed),!1},_momentum:function(e){var t=-e.speedY/100*this.bhRate;t<0?this.stop().start("forward",-1*t):this.stop().start("backward",t)},_mouseStart:function(e){return this._diffPos=e[this._fix.pageAxis]-this._handle[this._fix.offsetPos],!0},_mouseDrag:function(e){var t=this,n=Math.max(0,Math.min(e[t._fix.pageAxis]-t._diffPos,t._hRange));return t._setPos(n*t.bhRate),!1},_mouseStop:function(e){return!1},_mouseClick:function(e){var t=this;t.bhRate||t.refresh();var n=l.dom.pos(t._hCnt)[t._fix.pos];t.hScrollTo(e[t._fix.pageAxis]-n)}};var h=function(e){var t=this;(e=l(e)).bind("mousedown",t._mouseDown.bind(t)).bind("click",function(e){if(t._preventClickEvent)return t._preventClickEvent=!1,!(e.cancelBubble=!0)}),l.utils.msie&&(this._mouseUnselectable=e.attr("unselectable"),e.attr("unselectable","on")),this.started=!1};h.prototype={_mouseDown:function(e){var t=this;return t._mouseStarted&&t._mouseUp(e),1==(t._mouseDownEvent=e).which&&this.mouseCapture(e)&&(t._mouseDistanceMet(e)&&(t._mouseStarted=!1!==t.mouseStart(e),!t._mouseStarted)||(t._mouseMoveDelegate=t._mouseMove.bind(t),t._mouseUpDelegate=t._mouseUp.bind(t),l(document).bind("mousemove",t._mouseMoveDelegate).bind("mouseup",t._mouseUpDelegate)),e.preventDefault()),!0},_mouseMove:function(e){var t=this;return l.utils.msie&&!e.button?t._mouseUp(e):t._mouseStarted?(t.mouseDrag(e),e.preventDefault()):(t._mouseDistanceMet(e)&&(t._mouseStarted=!1!==t.mouseStart(t._mouseDownEvent,e),t._mouseStarted?t.mouseDrag(e):t._mouseUp(e)),!t._mouseStarted)},_mouseUp:function(e){var t=this;return l(document).unbind("mousemove",t._mouseMoveDelegate).unbind("mouseup",t._mouseUpDelegate),t._mouseStarted&&(t._mouseStarted=!1,t._preventClickEvent=e.target==t._mouseDownEvent.target,t.mouseStop(e)),!1},_mouseDistanceMet:function(e){return 1<=Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))},mouseStart:function(e){},mouseDrag:function(e){},mouseStop:function(e){},mouseCapture:function(e){return!0}},o.refresh=function(){c&&c.refresh()},o.scrollTo=function(e){c&&(l.isString(e)&&(e=l(e,c._bCnt)[0]),e&&e.nodeType&&(e=e[c._fix.offsetPos]),l.isNumber(e)&&c.scrollTo(e))},o.init=function(s){function e(e){var t=l('<div class="ne-scrl-bd">        <div class="ne-scrl-ct">          <a class="'+m.handle+'" hidefocus="true">            <b class="'+m.handle+'-start"></b><b class="'+m.handle+'-end"></b><span class="'+m.handle+'-bd"><span></span></span>          </a>        </div>      </div>').appendTo(s);if(u.autoHide){var n,a,o=function(){n=!1,l.isString(u.autoHide)?t.removeClass(u.autoHide):t.css({visibility:"hidden"})};o(),s.bind(d?"touchstart":"mouseover",function(){c&&!c.bhRate||(a&&clearTimeout(a),n||(n=!0,l.isString(u.autoHide)?t.addClass(u.autoHide):t.css({visibility:"visible"})))}).bind(d?"touchleave touchend":"mouseout",function(){a=setTimeout(o,80)})}var i=s[0].children[0],r=s.find(u.bodySelector)[0]||i;return u.scroll=r!=i,u.scroll||l.dom.css(r,"position","relative"),new f(s.find("."+m.handle)[0],r,e)}o.$on("refresh",o.refresh),o.$on("scrollTo",function(e){o.scrollTo(e)}),u.axis="y"==u.axis?"y":"x",s.addClass(m.wrap),"y"==u.axis&&s.addClass(m.yWrap);var t=l.widget(s);t?t.ready(function(){t.plugins?t.plugins.scroll=e:c=e()}):c=e()}});